{"version":3,"sources":["webpack:///./src/views/Notebooks.vue?39c2","webpack:///src/views/Notebooks.vue","webpack:///./src/views/Notebooks.vue?c797","webpack:///./src/views/Notebooks.vue","webpack:///./src/views/Notebooks.vue?7b4a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","onCreate","_v","_s","notebooks","length","_l","notebook","index","key","attrs","title","noteCounts","friendlyCreatedAt","$event","stopPropagation","preventDefault","onDelete","id","onEdit","staticRenderFns","methods","$prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","$confirm","type","inputValue","computed","created","component"],"mappings":"0HAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQP,EAAIQ,WAAW,CAACR,EAAIS,GAAG,aAAaL,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACJ,EAAIS,GAAG,SAAST,EAAIU,GAAGV,EAAIW,UAAUC,QAAU,GAAG,OAAOR,EAAG,KAAK,CAACE,YAAY,aAAaN,EAAIa,GAAIb,EAAa,WAAE,SAASc,EAASC,GAAO,OAAOX,EAAG,KAAK,CAACY,IAAID,GAAO,CAACX,EAAG,cAAc,CAACa,MAAM,CAAC,GAAM,oBAAuBH,EAAW,KAAK,CAACV,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIS,GAAGT,EAAIU,GAAGI,EAASI,UAAUd,EAAG,OAAO,CAACE,YAAY,UAAU,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGI,EAASK,YAAc,GAAG,OAAOf,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIS,GAAGT,EAAIU,GAAGI,EAASM,sBAAsBhB,EAAG,OAAO,CAACG,GAAG,CAAC,MAAQ,SAASc,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBvB,EAAIwB,SAAST,EAAOD,EAASW,OAAO,CAACzB,EAAIS,GAAG,QAAQL,EAAG,OAAO,CAACG,GAAG,CAAC,MAAQ,SAASc,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBvB,EAAI0B,OAAOZ,MAAa,CAACd,EAAIS,GAAG,WAAW,MAAK,UACziCkB,EAAkB,G,oCC6BtB,GACEC,QAAS,OAAX,OAAW,CAAX,kBACA,8DADA,IAEIpB,SAFJ,WAEA,WACMP,KAAK4B,QAAQ,QAAS,GAAI,CACxBC,kBAAmB,KACnBC,iBAAkB,KAClBC,aAAc,YACdC,kBAAmB,mBAC3B,4DAEIT,SAVJ,SAUA,gBACMvB,KAAKiC,SAAS,QAAS,KAAM,CAC3BJ,kBAAmB,KACnBC,iBAAkB,KAClBI,KAAM,YAEd,iBAAQ,OAAR,iCACA,kBACQ,EAAR,kBAAU,QAAV,YAGIT,OArBJ,SAqBA,cACMzB,KAAK4B,QAAQ,KAAM,GAAI,CACrBC,kBAAmB,KACnBC,iBAAkB,KAClBC,aAAc,YACdC,kBAAmB,iBACnBG,WAAYtB,EAASI,QAE7B,kBAAQ,IAAR,UAAQ,OACR,gBAAU,WAAV,KAAU,SAAV,OAEA,kBACQ,EAAR,kBAAU,QAAV,cAIEmB,SAAU,OAAZ,OAAY,CAAZ,GACA,+BAEEC,QAzCF,WAyCA,WACI,OAAJ,OAAI,GACJ,kBACA,UAGQ,EAAR,kBAFQ,EAAR,cAAU,KAAV,cAKA,mBAAM,OAAN,oBChFmV,I,wBCQ/UC,EAAY,eACd,EACAxC,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAY,E,oECnBf","file":"js/chunk-5edbc938.e7b055d6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('header',[_c('button',{on:{\"click\":_vm.onCreate}},[_vm._v(\"新建笔记本\")])]),_c('main',[_c('div',{staticClass:\"layout\"},[_c('h3',[_vm._v(\"笔记本列表(\"+_vm._s(_vm.notebooks.length || 0)+\")\")]),_c('ul',{staticClass:\"notebooks\"},_vm._l((_vm.notebooks),function(notebook,index){return _c('li',{key:index},[_c('router-link',{attrs:{\"to\":(\"/note?notebookId=\" + (notebook.id))}},[_c('i',{staticClass:\"iconfont icon-notebook\"}),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(notebook.title))]),_c('span',{staticClass:\"counts\"},[_vm._v(\"(\"+_vm._s(notebook.noteCounts || 0)+\")\")]),_c('span',{staticClass:\"create-date\"},[_vm._v(_vm._s(notebook.friendlyCreatedAt))]),_c('span',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onDelete(index, notebook.id)}}},[_vm._v(\"删除\")]),_c('span',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onEdit(notebook)}}},[_vm._v(\"编辑\")])])],1)}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <header><button @click=\"onCreate\">新建笔记本</button></header>\n\n    <main>\n      <div class=\"layout\">\n        <h3>笔记本列表({{ notebooks.length || 0 }})</h3>\n        <ul class=\"notebooks\">\n          <li v-for=\"(notebook, index) in notebooks\" :key=\"index\">\n            <router-link :to=\"`/note?notebookId=${notebook.id}`\"\n              ><i class=\"iconfont icon-notebook\"></i>\n              <span class=\"title\">{{ notebook.title }}</span\n              ><span class=\"counts\">({{ notebook.noteCounts || 0 }})</span\n              ><span class=\"create-date\">{{ notebook.friendlyCreatedAt }}</span\n              ><span @click.stop.prevent=\"onDelete(index, notebook.id)\"\n                >删除</span\n              ><span @click.stop.prevent=\"onEdit(notebook)\"\n                >编辑</span\n              ></router-link\n            >\n          </li>\n        </ul>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport { auth } from \"@/apis/auth\";\nexport default {\n  methods: {\n    ...mapActions([\"addNotebook\", \"delNotebook\", \"editNotebook\"]),\n    onCreate() {\n      this.$prompt(\"新建笔记本\", \"\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^.{1,30}$/,\n        inputErrorMessage: \"笔记本名称长度1-30个字符\",\n      }).then(({ value }) => this.addNotebook(value));\n    },\n    onDelete(index, id) {\n      this.$confirm(\"是否删除？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => this.delNotebook({ index, id }))\n        .then((res) => {\n          this.$message.success({ message: res.msg });\n        });\n    },\n    onEdit(notebook) {\n      this.$prompt(\"编辑\", \"\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^.{1,30}$/,\n        inputErrorMessage: \"笔记本名称长度1-30个字符\",\n        inputValue: notebook.title,\n      })\n        .then(({ value }) =>\n          this.editNotebook({ notebookId: notebook.id, newTitle: value })\n        )\n        .then((res) => {\n          this.$message.success({ message: res.msg });\n        });\n    },\n  },\n  computed: {\n    ...mapGetters([\"notebooks\"]),\n  },\n  created() {\n    auth()\n      .then((res) => {\n        if (!res.isLogin) {\n          this.$router.push({ path: \"/login\" });\n        } else {\n          this.getAllNotebooks();\n        }\n      })\n      .catch((e) => console.log(e));\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.wrapper\n  flex 1\n  header\n    padding 12px\n    border-bottom 1px solid #ccc\n    button\n      position relative\n      border none\n      box-shadow 1px 1px 1px 1px #ccc\n      margin-left 10px\n      padding 5px\n      padding-left 20px\n      font-size: 12px;\n      background #fff\n      color: #666;\n      cursor pointer\n      &:active\n        box-shadow -1px -1px 1px 1px #ccc\n\n\n      &::before,&::after\n        content ''\n        position absolute\n        width 10px\n        height 1px\n        background #666;\n        left: 6px;\n        top: 13px;\n      &::before\n        transform: rotate(90deg)\n      &::after\n        transform: rotate(180deg)\n  main\n    padding 20px 30px\n    height calc(100% - 52px)\n    overflow auto\n    .layout\n      max-width 966px\n      margin 0 auto\n      h3\n        font-size: 12px;\n        color: #000;\n      ul.notebooks\n        margin-top 10px\n        background white\n        border-radius 3px\n\n        a\n          display flex\n\n          padding 12px 14px\n          border-bottom 1px solid #ccc\n          line-height 16px;\n          >span\n            font-size: 12px;\n            font-weight: 700;\n            color: #b3c0c8\n            margin-right 10px\n          span.title\n            margin-left 10px\n            margin-right 5px\n            font-size: 14px;\n            font-weight: bold;\n            color: #444;\n          span.create-date\n            margin-left auto\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notebooks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notebooks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notebooks.vue?vue&type=template&id=2669377a&scoped=true&\"\nimport script from \"./Notebooks.vue?vue&type=script&lang=js&\"\nexport * from \"./Notebooks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Notebooks.vue?vue&type=style&index=0&id=2669377a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2669377a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notebooks.vue?vue&type=style&index=0&id=2669377a&lang=stylus&scoped=true&\""],"sourceRoot":""}