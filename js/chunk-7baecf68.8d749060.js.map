{"version":3,"sources":["webpack:///./src/views/Login.vue?f0df","webpack:///./src/views/Login.vue?24c3","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","toggle","_v","class","show","showLogin","attrs","validUsername","model","value","callback","$$v","username","expression","validPassword","password","_s","notice","register","login","staticRenderFns","data","isLegal","methods","console","log","val","test","handle","component"],"mappings":"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","file":"js/chunk-7baecf68.8d749060.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=301c8245&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"picture\"}),_c('div',{staticClass:\"form\"},[_c('h3',{on:{\"click\":function($event){return _vm.toggle(1)}}},[_vm._v(\"创建账户\")]),_c('div',{staticClass:\"register\",class:{ show: !_vm.showLogin }},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},on:{\"input\":_vm.validUsername},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('el-input',{attrs:{\"placeholder\":\"密码\"},on:{\"input\":_vm.validPassword},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),(_vm.notice)?_c('p',{staticClass:\"notice\"},[_vm._v(_vm._s(_vm.notice))]):_c('p',[_vm._v(\"创建账号后，请记住用户名和密码\")]),_c('el-button',{on:{\"click\":_vm.register}},[_vm._v(\"创建账户\")])],1),_c('h3',{on:{\"click\":function($event){return _vm.toggle(2)}}},[_vm._v(\"登录\")]),_c('div',{staticClass:\"login\",class:{ show: _vm.showLogin }},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},on:{\"input\":_vm.validUsername},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('el-input',{attrs:{\"placeholder\":\"密码\"},on:{\"input\":_vm.validPassword},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),(_vm.notice)?_c('p',{staticClass:\"notice\"},[_vm._v(_vm._s(_vm.notice))]):_c('p',[_vm._v(\"输入用户名和密码\")]),_c('el-button',{on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <div class=\"content\">\n      <div class=\"picture\"></div>\n      <div class=\"form\">\n        <h3 @click=\"toggle(1)\">创建账户</h3>\n\n        <div class=\"register\" :class=\"{ show: !showLogin }\">\n          <el-input\n            v-model=\"username\"\n            placeholder=\"用户名\"\n            @input=\"validUsername\"\n          ></el-input>\n          <el-input\n            v-model=\"password\"\n            placeholder=\"密码\"\n            @input=\"validPassword\"\n          ></el-input>\n          <p v-if=\"notice\" class=\"notice\">{{ notice }}</p>\n          <p v-else>创建账号后，请记住用户名和密码</p>\n          <el-button @click=\"register\">创建账户</el-button>\n        </div>\n        <h3 @click=\"toggle(2)\">登录</h3>\n        <div class=\"login\" :class=\"{ show: showLogin }\">\n          <el-input\n            v-model=\"username\"\n            placeholder=\"用户名\"\n            @input=\"validUsername\"\n          ></el-input>\n          <el-input\n            v-model=\"password\"\n            placeholder=\"密码\"\n            @input=\"validPassword\"\n          ></el-input>\n          <p v-if=\"notice\" class=\"notice\">{{ notice }}</p>\n          <p v-else>输入用户名和密码</p>\n          <el-button @click=\"login\">登录</el-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { login, register } from \"@/apis/auth\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      showLogin: true,\n      isLegal: false,\n      notice: \"\",\n    };\n  },\n  methods: {\n    ...mapActions([\"getAllNotebooks\"]),\n    toggle(val) {\n      console.log(val);\n      if ((val == 1 && this.showLogin) || (val == 2 && !this.showLogin))\n        this.showLogin = !this.showLogin;\n    },\n    register() {\n      if (this.isLegal) {\n        register(this.username, this.password).then((res) => console.log(res));\n      }\n    },\n    login() {\n      if (this.isLegal) {\n        login(this.username, this.password)\n          .then(() => {\n            return this.getAllNotebooks();\n          })\n          .then((res) => {\n            console.log(res);\n            this.$router.push({ path: \"/\" });\n          });\n      }\n    },\n    validUsername() {\n      if (!/[\\w\\u4e00-\\u9fa5]{3,10}/.test(this.username)) {\n        this.isLegal = false;\n        this.notice = \"用户名必须是6-10位长度的数字、英文大小写字母或中文\";\n      } else {\n        this.isLegal = true;\n        this.notice = \"\";\n      }\n    },\n    validPassword() {\n      if (!/.{6,10}/.test(this.password)) {\n        this.isLegal = false;\n        this.notice = \"密码必须是6-10位长度的任意字符\";\n      } else {\n        this.isLegal = true;\n        this.notice = \"\";\n      }\n    },\n    handle() {\n      console.log(\"hello\");\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.wrapper\n  position fixed\n  top 0\n  bottom 0\n  left 0\n  right 0\n  background rgba(0,0,0,.7)\n  display flex\n  justify-content center\n  align-items center\n  .content\n\n    width 800px\n    height 500px\n    display flex\n    background white\n    .picture\n      flex 1\n      background #36bc64 url(http://cloud.hunger-valley.com/17-12-13/38476998.jpg-middle) no-repeat center center\n      background-size contain\n\n    .form\n      width 270px\n      h3\n        padding 10px 20px\n        border-bottom 1px solid #eee\n        cursor pointer\n      p\n        font-size 12px\n        margin-top 10px\n        &.notice\n          color red\n      .register.show\n        border-bottom 1px solid #eee\n      .register,.login\n        padding 0 20px\n        height 0\n        overflow hidden\n        transition height .3s\n\n        &.show\n          display block\n          height 215px\n\n        .el-input,.el-button\n          margin-top 10px\n        .el-button\n          margin-bottom 10px\n          width 100%\n          background #36bc64\n          color white\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=301c8245&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=301c8245&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"301c8245\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}